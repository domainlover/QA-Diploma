# План автоматизации тестирования

## Задача:
Автоматизировать сценарии комплексного сервиса, взаимодействующего с СУБД и API Банка.

## Артефакты:
SUT aqa-shop.jar

## Предусловия:
Тестируемое приложение запустить по инструкции, указанной в файле README.md


##  Тестовые сценарии:
### Позитивные сценарии:

### 1. Успешная оплата по дебетовой карте в сервисе платежей (Payment Gate) при вводе валидных данных 

Шаги:
1. Нажать кнопку "Купить"
1. В поле "Номер карты" ввести номер карты-4444 4444 4444 4441
1. В поле "Месяц" ввести валидное значение-любой календарный месяц
1. В поле "Год" ввести валидное значение-следующий год
1. В поле "Владелец" ввести валидное значение латинскими буквами - имя и фамилию
1. В поле CVC/CVV ввести валидное значение-три цифры
1. Нажать на кнопку "Продолжить"

**Ожидаемый результат**: появляется всплывающее окно с сообщением "Успешно! Операция одобрена банком."

В БД есть запись "APPROVED"


### 2. Успешная оплата кредитной картой в кредитном сервисе (Credit Gate) при вводе валидных данных

Шаги:
1. Нажать кнопку "Купить в кредит"
1. В поле "Номер карты" ввести валидный номер карты-4444 4444 4444 4441
1. В поле "Месяц" ввести валидное значение-любой календарный месяц
1. В поле "Год" ввести валидное значение-следующий год
1. В поле "Владелец" ввести валидное значение латинскими буквами - имя и фамилию
1. В поле CVC/CVV ввести валидное значение-три цифры
1. Нажать на кнопку "Продолжить"

**Ожидаемый результат:** появляется всплывающее окно с сообщением "Успешно! Операция одобрена банком."

В БД есть запись "APPROVED"


### 3. Оплата дебетовой картой в сервисе платежей (Payment Gate) при вводе валидных данных

Шаги:
1. Нажать кнопку "Купить"
1. В поле "Номер карты" ввести номер карты-4444 4444 4444 4442
1. В поле "Месяц" ввести валидное значение-любой календарный месяц
1. В поле "Год" ввести валидное значение-следующий год
1. В поле "Владелец" ввести валидное значение латинскими буквами - имя и фамилию
1. В поле CVC/CVV ввести валидное значение-три цифры
1. Нажать на кнопку "Продолжить"

**Ожидаемый результат:** появляется всплывающее окно с сообщением "Ошибка! Банк отказал в проведении операции."

В БД есть запись "DECLINED"


### 4. Оплата кредитной картой в кредитном сервисе (Credit Gate) при вводе валидных данных

Шаги:
1. Нажать кнопку "Купить в кредит"
1. В поле "Номер карты" ввести валидный номер карты-4444 4444 4444 4442
1. В поле "Месяц" ввести валидное значение-любой календарный месяц
1. В поле "Год" ввести валидное значение-следующий год
1. В поле "Владелец" ввести валидное значение латинскими буквами-имя и фамилию
1. В поле CVC/CVV ввести валидное значение-три цифры
1. Нажать на кнопку "Продолжить"

**Ожидаемый результат:** появляется всплывающее окно с сообщением "Ошибка! Банк отказал в проведении операции."

В БД есть запись "DECLINED"

### 5. Оплата дебетовой картой в сервисе платежей (Payment Gate) при вводе валидных минимальных граничных значений в поле "Месяц" и "Год"

Шаги:
1. Нажать кнопку "Купить"
1. В поле "Номер карты" ввести валидный номер карты-4444 4444 4444 4441
1. В поле "Месяц" ввести текущий месяц 
1. В поле "Год" ввести текущий год
1. В поле "Владелец" ввести валидное значение латинскими буквами-имя и фамилию
1. В поле CVC/CVV ввести валидное значение-три цифры
1. Нажать на кнопку "Продолжить"

**Ожидаемый результат:** появляется всплывающее окно с сообщением "Успешно! Операция одобрена банком."

В БД есть запись "APPROVED"


### 6. Оплата кредитной картой в кредитном сервисе (Credit Gate) при вводе валидных минимальных граничных значений в поле "Месяц" и "Год"

Шаги:
1. Нажать кнопку "Купить в кредит"
1. В поле "Номер карты" ввести валидный номер карты-4444 4444 4444 4441
1. В поле "Месяц" ввести текущий месяц 
1. В поле "Год" ввести текущий год
1. В поле "Владелец" ввести валидное значение латинскими буквами-имя и фамилию
1. В поле CVC/CVV ввести валидное значение-три цифры
1. Нажать на кнопку "Продолжить"

**Ожидаемый результат:** появляется всплывающее окно с сообщением "Успешно! Операция одобрена банком."

В БД есть запись "APPROVED"


### 7. Оплата дебетовой картой в сервисе платежей (Payment Gate) при вводе валидных максимальных граничных значений в поле "Месяц" и "Год"

Шаги:
1. Нажать кнопку "Купить"
1. В поле "Номер карты" ввести валидный номер карты-4444 4444 4444 4441
1. В поле "Месяц" ввести текущий месяц 
1. В поле "Год" ввести значение, большее текущего года на 5 лет 
1. В поле "Владелец" ввести валидное значение латинскими буквами-имя и фамилию
1. В поле CVC/CVV ввести валидное значение-три цифры
1. Нажать на кнопку "Продолжить"

**Ожидаемый результат:** появляется всплывающее окно с сообщением "Успешно! Операция одобрена банком."

В БД есть запись "APPROVED"

### 8. Оплата кредитной картой в кредитном сервисе (Credit Gate) при вводе валидных максимальных граничных значений в поле "Месяц" и "Год"

Шаги:
1. Нажать кнопку "Купить в кредит"
1. В поле "Номер карты" ввести валидный номер карты-4444 4444 4444 4441
1. В поле "Месяц" ввести текущий месяц 
1. В поле "Год" ввести значение, большее текущего года на 5 лет 
1. В поле "Владелец" ввести валидное значение латинскими буквами-имя и фамилию
1. В поле CVC/CVV ввести валидное значение-три цифры
1. Нажать на кнопку "Продолжить"

**Ожидаемый результат:** появляется всплывающее окно с сообщением "Успешно! Операция одобрена банком."

В БД есть запись "APPROVED"


## Негативные сценарии:

### 1. Оплата дебетовой картой с несуществующим номером в сервисе платежей (Payment Gate) 

Шаги:
1. Нажать кнопку "Купить"
1. В поле "Номер карты" ввести несуществующий номер карты-4444 4444 4444 4445
1. В поле "Месяц" ввести валидное значение-любой календарный месяц
1. В поле "Год" ввести валидное значение-следующий год
1. В поле "Владелец" ввести валидное значение латинскими буквами-имя и фамилию
1. В поле CVC/CVV ввести валидное значение-три цифры
1. Нажать на кнопку "Продолжить"

**Ожидаемый результат:** появляется всплывающее окно с сообщением "Ошибка! Банк отказал в проведении операции."

В БД нет новой записи

### 2. Оплата кредитной картой с несуществующим номером в кредитном сервисе (Credit Gate)

Шаги:
1. Нажать кнопку "Купить в кредит"
1. В поле "Номер карты" ввести несуществующий номер карты-4444 4444 4444 4445
1. В поле "Месяц" ввести валидное значение-любой календарный месяц
1. В поле "Год" ввести валидное значение-следующий год
1. В поле "Владелец" ввести валидное значение латинскими буквами-имя и фамилию
1. В поле CVC/CVV ввести валидное значение-три цифры
1. Нажать на кнопку "Продолжить"

**Ожидаемый результат:** появляется всплывающее окно с сообщением "Ошибка! Банк отказал в проведении операции."

В БД нет новой записи


### 3. Оплата дебетовой картой с недостающим числом символов в сервисе платежей (Payment Gate)

Шаги:
1. Нажать кнопку "Купить"
1. В поле "Номер карты" ввести несуществующий номер карты-4444 4444 4444 444
1. В поле "Месяц" ввести валидное значение-любой календарный месяц
1. В поле "Год" ввести валидное значение-следующий год
1. В поле "Владелец" ввести валидное значение латинскими буквами-имя и фамилию
1. В поле CVC/CVV ввести валидное значение-три цифры
1. Нажать на кнопку "Продолжить"

**Ожидаемый результат:** поле "Номер карты" подсвечено как ошибочное. Надпись под полем "Неверный формат"

В БД нет новой записи

### 4. Оплата кредитной картой с недостающим числом символов в кредитном сервисе (Credit Gate)

Шаги:
1. Нажать кнопку "Купить в кредит"
1. В поле "Номер карты" ввести несуществующий номер карты-4444 4444 4444 444
1. В поле "Месяц" ввести валидное значение-любой календарный месяц
1. В поле "Год" ввести валидное значение-следующий год
1. В поле "Владелец" ввести валидное значение латинскими буквами-имя и фамилию
1. В поле CVC/CVV ввести валидное значение-три цифры
1. Нажать на кнопку "Продолжить"

**Ожидаемый результат:** поле "Номер карты" подсвечено как ошибочное. Надпись под полем "Неверный формат"

В БД нет новой записи

### 5. Оплата дебетовой картой в сервисе платежей (Payment Gate) при вводе невалидных минимальных граничных значений в поле "Месяц" и "Год"

Шаги:
1. Нажать кнопку "Купить"
1. В поле "Номер карты" ввести валидный номер карты-4444 4444 4444 4441
1. В поле "Месяц" ввести прошлый месяц 
1. В поле "Год" ввести текущий год
1. В поле "Владелец" ввести валидное значение латинскими буквами-имя и фамилию
1. В поле CVC/CVV ввести валидное значение-три цифры
1. Нажать на кнопку "Продолжить"

**Ожидаемый результат:**  поле "Месяц" подсвечено как ошибочное. Надпись под полем "Неверно указан срок действия карты"

В БД нет новой записи

### 6. Оплата кредитной картой в кредитном сервисе (Credit Gate) при вводе невалидных минимальных граничных значений в поле "Месяц" и "Год"

Шаги:
1. Нажать кнопку "Купить в кредит"
1. В поле "Номер карты" ввести валидный номер карты-4444 4444 4444 4441
1. В поле "Месяц" ввести прошлый месяц 
1. В поле "Год" ввести текущий год
1. В поле "Владелец" ввести валидное значение латинскими буквами-имя и фамилию
1. В поле CVC/CVV ввести валидное значение-три цифры
1. Нажать на кнопку "Продолжить"

**Ожидаемый результат:**  поле "Месяц" подсвечено как ошибочное. Надпись под полем "Неверно указан срок действия карты"

В БД нет новой записи

### 7. Оплата дебетовой картой в сервисе платежей (Payment Gate) при вводе невалидных максимальных граничных значений в поле "Месяц" и "Год"

Шаги:
1. Нажать кнопку "Купить"
1. В поле "Номер карты" ввести валидный номер карты-4444 4444 4444 4441
1. В поле "Месяц" ввести календарный месяц, следующий за текущим 
1. В поле "Год" ввести значение, большее текущего года на 5 лет
1. В поле "Владелец" ввести валидное значение латинскими буквами-имя и фамилию
1. В поле CVC/CVV ввести валидное значение-три цифры
1. Нажать на кнопку "Продолжить"

**Ожидаемый результат:** под полем "Год" появляется надпись "Неверно указан срок действия карты"

В БД нет новой записи

### 8. Оплата кредитной картой в кредитном сервисе (Credit Gate) при вводе невалидных максимальных граничных значений в поле "Месяц" и "Год"

Шаги:
1. Нажать кнопку "Купить в кредит"
1. В поле "Номер карты" ввести валидный номер карты-4444 4444 4444 4441
1. В поле "Месяц" ввести календарный месяц, следующий за текущим 
1. В поле "Год" ввести значение, большее текущего года на 5 лет
1. В поле "Владелец" ввести валидное значение латинскими буквами-имя и фамилию
1. В поле CVC/CVV ввести валидное значение-три цифры
1. Нажать на кнопку "Продолжить"

**Ожидаемый результат:** под полем "Год" появляется надпись "Неверно указан срок действия карты"

В БД нет новой записи

### 9. Оплата дебетовой картой в сервисе платежей (Payment Gate) при вводе невалидного значения в поле "Владелец"

Шаги:
1. Нажать кнопку "Купить"
1. В поле "Номер карты" ввести валидный номер карты-4444 4444 4444 4441
1. В поле "Месяц" ввести валидное значение-любой календарный месяц
1. В поле "Год" ввести следующий год
1. В поле "Владелец" ввести русскими буквами (имя и фамилию), латинскими буквами: только имя (только фамилию), имя и фамилию через дефис, только цифры, 27 символов, 1 символ
1. В поле CVC/CVV ввести валидное значение-три цифры
1. Нажать на кнопку "Продолжить"

**Ожидаемый результат:** под полем "Владелец" появляется надпись "Неверный формат"

В БД нет новой записи

### 10. Оплата кредитной картой в кредитном сервисе (Credit Gate) при вводе невалидного значения в поле "Владелец"

Шаги:
1. Нажать кнопку "Купить в кредит"
1. В поле "Номер карты" ввести валидный номер карты-4444 4444 4444 4441
1. В поле "Месяц" ввести валидное значение-любой календарный месяц
1. В поле "Год" ввести следующий год
1. В поле "Владелец" ввести русскими буквами (имя и фамилию), латинскими буквами: только имя (только фамилию), имя и фамилию через дефис, только цифры, 27 символов, 1 символ
1. В поле CVC/CVV ввести валидное значение-три цифры
1. Нажать на кнопку "Продолжить"

**Ожидаемый результат:** под полем "Владелец" появляется надпись "Неверный формат"

В БД нет новой записи

### 11. Ввод невалидного значения в поле "СVC/CVV" при оплате дебетовой картой в сервисе платежей (Payment Gate)

Шаги:
1. Нажать кнопку "Купить"
1. В поле "Номер карты" ввести валидный номер карты-4444 4444 4444 4441
1. В поле "Месяц" ввести валидное значение-любой календарный месяц
1. В поле "Год" ввести валидное значение-следующий год
1. В поле "Владелец" ввести валидное значение латинскими буквами - имя и фамилию
1. В поле CVC/CVV ввести невалидное значение: 1 цифру, 2 цифры, значение "000"
1. Нажать на кнопку "Продолжить"

Ожидаемый результат: под полем "СVC/CVV" появляется надпись "Неверный формат"

В БД нет новой записи

### 12. Ввод невалидного значения в поле "СVC/CVV" при оплате кредитной картой в кредитном сервисе (Credit Gate)

Шаги:
1. Нажать кнопку "Купить в кредит"
1. В поле "Номер карты" ввести валидный номер карты-4444 4444 4444 4441
1. В поле "Месяц" ввести валидное значение-любой календарный месяц
1. В поле "Год" ввести валидное значение-следующий год
1. В поле "Владелец" ввести валидное значение латинскими буквами - имя и фамилию
1. В поле CVC/CVV ввести невалидное значение: 1 цифру, 2 цифры, значение "000"
1. Нажать на кнопку "Продолжить"

Ожидаемый результат: под полем "СVC/CVV" появляется надпись "Неверный формат"

В БД нет новой записи

### 13. Возможность отправки с незаполненным полем при оплате дебетовой картой в сервисе платежей (Payment Gate)

Перед каждым тестом нажимаем кнопку "Купить"
1. * заполняем все поля валидными значениями, поле "Номер карты" оставляем пустым
   * нажимаем кнопку "Продолжить"  
     Ожидаемый результат: под полем "Номер карты" появляется надпись "Поле обязательно для заполнения"
2. * заполняем все поля валидными значениями, поле "Месяц" оставляем пустым
   * нажимаем кнопку "Продолжить"  
     Ожидаемый результат: под полем "Месяц" появляется надпись "Поле обязательно для заполнения"
3. * заполняем все поля валидными значениями, поле "Год" оставляем пустым
   * нажимаем кнопку "Продолжить"  
     Ожидаемый результат: под полем "Год" появляется надпись "Поле обязательно для заполнения"
4. * заполняем все поля валидными значениями, поле "Владелец" оставляем пустым
   * нажимаем кнопку "Продолжить"  
     Ожидаемый результат: под полем "Владелец" появляется надпись "Поле обязательно для заполнения"   
5. * заполняем все поля валидными значениями, поле "CVC/CVV" оставляем пустым
   * нажимаем кнопку "Продолжить"  
     Ожидаемый результат: под полем "CVC/CVV" появляется надпись "Поле обязательно для заполнения"


### 14. Возможность отправки с незаполненным полем при оплате кредитной картой в кредитном сервисе (Credit Gate)

Перед каждым тестом нажимаем кнопку "Купить в кредит"
1. * заполняем все поля валидными значениями, поле "Номер карты" оставляем пустым
   * нажимаем кнопку "Продолжить"  
     Ожидаемый результат: под полем "Номер карты" появляется надпись "Поле обязательно для заполнения"
2. * заполняем все поля валидными значениями, поле "Месяц" оставляем пустым
   * нажимаем кнопку "Продолжить"  
     Ожидаемый результат: под полем "Месяц" появляется надпись "Поле обязательно для заполнения"
3. * заполняем все поля валидными значениями, поле "Год" оставляем пустым
   * нажимаем кнопку "Продолжить"  
     Ожидаемый результат: под полем "Год" появляется надпись "Поле обязательно для заполнения"
4. * заполняем все поля валидными значениями, поле "Владелец" оставляем пустым
   * нажимаем кнопку "Продолжить"  
     Ожидаемый результат: под полем "Владелец" появляется надпись "Поле обязательно для заполнения"   
5. * заполняем все поля валидными значениями, поле "CVC/CVV" оставляем пустым
   * нажимаем кнопку "Продолжить"  
     Ожидаемый результат: под полем "CVC/CVV" появляется надпись "Поле обязательно для заполнения"
     

### 15. Заполнение заявки на оплату в сервисе платежей (Payment Gate) с пустыми полями

Шаги:
1. Нажать кнопку "Купить"
1. Не заполняя ни одно из полей, нажать на кнопку "Продолжить"

**Ожидаемый результат:** Все поля подсвечиваются, под каждым полем надпись "Поле обязательно для заполнения"

В БД нет новой записи

### 16. Заполнение заявки на оплату в кредитном сервисе(Credit Gate) с пустыми полями

Шаги:
1. Нажать кнопку "Купить в кредит"
1. Не заполняя ни одно из полей, нажать на кнопку "Продолжить"

**Ожидаемый результат:** Все поля подсвечиваются, под каждым полем надпись "Поле обязательно для заполнения"

В БД нет новой записи

## Перечень используемых инструментов

- **Java 11** - самый популярный язык программирования для написания кроссплатформенных приложений. Успешно применяется в автоматизации тестирования.
- **IntelliJ IDEA Ultimate 2021.2.2** - среда разработки, поддерживающая множество плагинов, систем управления и контроля версий
- **Gradle 6.9** - система автоматической сборки и управления зависимостями
- **JUnit 5** - одна из самых популярных платформ модульного тестирования
- **Docker Desktop** - открытая платформа для разработки, доставки и эксплуатации приложений, с помощью которой можно разворачивать мультиконтейнерные приложения без установки  
  специального отдельного ПО(в данном случае MySQL, PostgreSQL, Node)
- **Selenide 5.19.0** -  библиотека для написания лаконичных и стабильных UI тестов с открытым исходным кодом  на основе Selenium WebDriver.
- **MySQL 8.0.26** (заявлена поддержка этой СУБД)
- **PostgreSQL 12-alpine** (заявлена поддержка этой СУБД)
- **Node.js** - симулятор банковских сервисов написан на NodeJS
- **Allure 2.14.0** - фреймворк,предназначенный для создания визуально наглядной картины выполнения тестов.Генерирует более интересные и содержательные отчёты, чем Gradle.
- **Google Chrome 94.0.4606.81** - один из самых популярных и удобных браузеров.
- **Lombok 5.3.0** - плагин для замещения значительного объема функциональных строк кода, не содержащих бизнес-логики, краткими аннотациями.
- **Git-2.33.1** - система контроля версий ПО.
- **GitHub**-крупнейший веб-сервис для хостинга IT-проектов и их совместной разработки, основанный на системе контроля версий Git.

## Перечень и описание возможных рисков при автоматизации

1. Отсутствие документации и ТЗ, без которых становится непонятно, как именно должна работать SUT ,и какое именно поведение системы будет считаться ошибкой.
1. Использование захардкоженных 16-значных номеров банковских карт может привести к ошибкам в работе реальной системы, поскольку существует множество вариаций номеров карт (например, с 15-значными номерами, и с 12-значными).
1. Возможно возникновение сложностей с установкой необходимого ПО

## Интервальная оценка с учётом рисков (в часах)

1. 60-80 часов

## План сдачи работ

1. Автотесты
1. Отчётные документы по итогам тестирования 
1. Подготовка отчета по итогам автоматизации
